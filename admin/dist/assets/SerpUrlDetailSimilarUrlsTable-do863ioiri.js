import{w as p,r as n,R as t,_ as o,b7 as h,x as V,E as S,N as y,V as a,b8 as T,X as x,bv as z,L as v,C as N,Y as L,bx as q,S as R}from"../main-do863ioiri.js";import{T as C}from"./TableFilters-do863ioiri.js";const c="serp-urls/url/similar-urls",F=[{key:"cnt_queries",dir:"DESC",op:"<"}],w={cnt_queries:o("Intersections","urlslab")},A={...h,...w},D={columnVisibility:{url_title:!1,url_description:!1,country_value:!1,top100_queries_cnt:!1,top10_queries_cnt:!1,country_volume:!1,my_urls_ranked_top10:!1,my_urls_ranked_top100:!1}};function M(){const l=p(i=>i.setTable),s=p(i=>i.urlDetailPanel),[r,g]=n.useState(!1),{url:m}=s;return n.useEffect(()=>{g(!0),l(c,{slug:c,header:A,paginationId:"url_id",sorting:F,fetchOptions:{url:m,domain_type:"A"}})},[l,m]),r&&t.createElement(P,null)}const P=n.memo(()=>{const{columnHelper:l,data:s,isLoading:r,isSuccess:g,isFetchingNextPage:m,ref:i}=V({slug:c}),d=n.useMemo(()=>{var e;return(e=s==null?void 0:s.pages)==null?void 0:e.flatMap(f=>f??[])},[s==null?void 0:s.pages]),_=S(e=>e.activePanel),{columnTypes:u,isLoadingColumnTypes:b}=y(c),E=n.useMemo(()=>u?[l.accessor("url_name",{tooltip:e=>e.getValue(),cell:e=>t.createElement("a",{href:e.getValue(),target:"_blank",rel:"noreferrer"},e.getValue()),header:e=>t.createElement(a,{...e}),size:200}),l.accessor("cnt_queries",{cell:e=>e.getValue(),header:e=>t.createElement(a,{...e}),minSize:50}),l.accessor("url_title",{tooltip:e=>e.getValue(),cell:e=>t.createElement("strong",null,e.getValue()),header:e=>t.createElement(a,{...e}),minSize:100}),l.accessor("url_description",{tooltip:e=>e.getValue(),cell:e=>e.getValue(),header:e=>t.createElement(a,{...e}),minSize:100}),l.accessor("domain_type",{className:"nolimit",cell:e=>u==null?void 0:u.domain_type.values[e.getValue()],header:e=>t.createElement(a,{...e}),size:80}),l.accessor("comp_intersections",{cell:e=>t.createElement("strong",null,e.getValue()),header:e=>t.createElement(a,{...e}),minSize:50}),l.accessor("best_position",{cell:e=>t.createElement("strong",null,e.getValue()),header:e=>t.createElement(a,{...e}),minSize:50}),l.accessor("top10_queries_cnt",{cell:e=>e.getValue(),header:e=>t.createElement(a,{...e}),minSize:50}),l.accessor("top100_queries_cnt",{cell:e=>e.getValue(),header:e=>t.createElement(a,{...e}),minSize:50}),l.accessor("top_queries",{tooltip:e=>T(e.getValue()),cell:e=>e.getValue().join(", "),header:e=>t.createElement(a,{...e}),minSize:200}),l.accessor("my_urls_ranked_top10",{className:"nolimit",cell:e=>e.getValue(),header:e=>t.createElement(a,{...e}),size:30}),l.accessor("my_urls_ranked_top100",{className:"nolimit",cell:e=>e.getValue(),header:e=>t.createElement(a,{...e}),size:30}),l.accessor("country_volume",{className:"nolimit",cell:e=>e.getValue()&&e.getValue()>0?e.getValue():"-",header:e=>t.createElement(a,{...e}),size:30}),l.accessor("country_value",{className:"nolimit",cell:e=>e.getValue()&&e.getValue()>0?e.getValue():"-",header:e=>t.createElement(a,{...e}),size:30})]:[],[l,u]);return t.createElement(t.Fragment,null,t.createElement(x,{title:o("About this table","urlslab"),tableSlug:c,sx:{mb:2}},o("Table shows list of URLs most similar to selected URL based on number of intersecting queries","urlslab")),t.createElement("div",{className:"urlslab-moduleView-headerBottom"},t.createElement("div",{className:"flex flex-justify-space-between flex-align-center pb-s"},t.createElement(U,null),t.createElement(C,null),t.createElement(z,{tableActions:{noImport:!0,noDelete:!0}}))),r||b?t.createElement(v,null):t.createElement(N,{columns:E,initialState:D,data:g&&d,referrer:i,loadingRows:m,disableAddNewTableRecord:!0},t.createElement(L,null)),_==="export"&&t.createElement(q,null))}),U=n.memo(()=>{const l=p().useFetchOptions(),s=p(r=>r.setFetchOptions);return t.createElement("div",{className:"flex flex-align-center mr-m"},t.createElement(R,{defaultAccept:!0,autoClose:!0,items:{A:o("All URLs","urlslab"),M:o("My URLs","urlslab"),C:o("Competitor URLs","urlslab")},name:"url_view_type",value:l.domain_type,onChange:r=>s(c,{domain_type:r})}))});export{M as default};
