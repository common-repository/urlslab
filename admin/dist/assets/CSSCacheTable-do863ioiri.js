import{w as p,r as l,R as t,_ as i,x as z,N as y,y as L,O as I,Q as M,U as v,z as g,V as c,W as B,A as F,L as N,X as k,M as V,C as _,Y as D}from"../main-do863ioiri.js";const U="url_id",A={url:i("URL","urlslab"),filesize:i("File size","urlslab"),status:i("Status","urlslab"),status_changed:i("Last change","urlslab")};function j({slug:s}){const a=p(d=>d.setTable),[n,u]=l.useState(!1);return l.useEffect(()=>{u(!0),a(s,{paginationId:U,slug:s,header:A})},[a,s]),n&&t.createElement(O,{slug:s})}function O({slug:s}){const{columnHelper:a,data:n,isLoading:u,isSuccess:d,isFetchingNextPage:E,ref:S}=z({slug:s}),T=l.useMemo(()=>{var e;return(e=n==null?void 0:n.pages)==null?void 0:e.flatMap(o=>o??[])},[n==null?void 0:n.pages]),h=p(e=>e.setTable),{columnTypes:r,isLoadingColumnTypes:w}=y(s),{deleteRow:m,updateRow:b}=L(),R=l.useMemo(()=>({cell:e,onClick:o})=>{var f;const{status:C}=(f=e==null?void 0:e.row)==null?void 0:f.original;return t.createElement("div",{className:"flex flex-align-center flex-justify-end"},C!=="N"&&t.createElement(I,{title:i("Regenerate","urlslab"),arrow:!0,placement:"bottom"},t.createElement(M,{size:"xs",onClick:()=>o("N")},t.createElement(v,{name:"refresh"}))))},[]),x=l.useMemo(()=>r?[a.accessor("check",{className:"checkbox",cell:e=>t.createElement(g,{tableElement:e}),header:e=>t.createElement(g,{tableElement:e})}),a==null?void 0:a.accessor("url",{tooltip:e=>e.getValue(),header:e=>t.createElement(c,{...e}),size:450}),a==null?void 0:a.accessor("filesize",{unit:"kB",cell:e=>`${Math.round(e.getValue()/1024,0)}Â kB`,header:e=>t.createElement(c,{...e}),size:80}),a==null?void 0:a.accessor("status",{cell:e=>r==null?void 0:r.status.values[e.getValue()],header:e=>t.createElement(c,{...e}),size:80}),a==null?void 0:a.accessor("status_changed",{cell:e=>t.createElement(B,{datetime:e.getValue()}),header:e=>t.createElement(c,{...e}),size:115}),a.accessor("editRow",{className:"editRow",cell:e=>t.createElement(F,{onDelete:()=>m({cell:e,id:"url"})},t.createElement(R,{cell:e,onClick:o=>b({changeField:"status",newVal:o,cell:e})})),header:null,size:0})]:[],[a,r,m,b]);return l.useEffect(()=>{h(s,{data:n})},[n,h,s]),u||w?t.createElement(N,{isFullscreen:!0}):t.createElement(t.Fragment,null,t.createElement(k,{title:i("About this table","urlslab"),tableSlug:s,isMainTableDescription:!0},i("The table displays a list of CSS files that have been processed and cached by the plugin. This feature is optional and can be enabled in the Settings tab. Once a CSS file is optimized and saved in this table, the original URL located in your page's HTML code gets replaced with a new path that leads to the optimized CSS file. This URL replacement process happens in real time as the page is generated. If you choose to disable this feature, all CSS files will revert to being served using their original URLs. The cache has a validity period that can be set in the Settings tab. Once this period expires, the file will be regenerated automatically.","urlslab")),t.createElement(V,{noExport:!0,noImport:!0}),t.createElement(_,{className:"fadeInto",columns:x,data:d&&T,referrer:S,loadingRows:E},t.createElement(D,null)))}export{j as default};
