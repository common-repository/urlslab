import{w as R,r as o,R as t,_ as s,x as I,y as U,z as h,V as c,I as u,F as y,W as F,A as L,O as f,Q as w,U as T,L as M,X as N,M as v,C as D,Y as A,E as b}from"../main-do863ioiri.js";const B=s("Add New Related Article","urlslab"),V="src_url_id",S="dest_url_id",i={src_url_name:s("Source URL","urlslab"),dest_url_name:s("Destination URL","urlslab"),pos:s("Position","urlslab"),is_locked:s("Locked","urlslab"),created_date:s("Updated","urlslab")};function O({slug:l}){const r=R(d=>d.setTable),[a,m]=o.useState(!1);return o.useEffect(()=>{m(!0),r(l,{title:B,paginationId:V,slug:l,header:i,id:"src_url_name",optionalSelector:S})},[r,l]),a&&t.createElement(P,{slug:l})}function P({slug:l}){const{columnHelper:r,data:a,isLoading:m,isSuccess:d,isFetchingNextPage:k,ref:C}=I({slug:l}),x=o.useMemo(()=>{var e;return(e=a==null?void 0:a.pages)==null?void 0:e.flatMap(n=>n??[])},[a==null?void 0:a.pages]),p=R(e=>e.setTable),{deleteRow:E,updateRow:_}=U(),z=o.useMemo(()=>[r.accessor("check",{className:"checkbox",cell:e=>t.createElement(h,{tableElement:e}),header:e=>t.createElement(h,{tableElement:e})}),r.accessor("src_url_name",{tooltip:e=>e.getValue(),cell:e=>t.createElement("a",{href:e.getValue(),target:"_blank",rel:"noreferrer"},e.getValue()),header:e=>t.createElement(c,{...e}),size:200}),r.accessor("dest_url_name",{tooltip:e=>e.getValue(),cell:e=>t.createElement("a",{href:e.getValue(),target:"_blank",rel:"noreferrer"},e.getValue()),header:e=>t.createElement(c,{...e}),size:200}),r.accessor("pos",{className:"nolimit",cell:e=>t.createElement(u,{type:"number",value:e.getValue(),min:"0",max:"100",onChange:n=>_({newVal:n,cell:e})}),header:e=>t.createElement(c,{...e}),size:50}),r.accessor("is_locked",{className:"nolimit",cell:e=>t.createElement(y,{value:e.getValue(),onChange:n=>_({newVal:n,cell:e})}),header:e=>t.createElement(c,{...e}),size:50}),r.accessor("created_date",{className:"nolimit",cell:e=>t.createElement(F,{datetime:e.getValue()}),header:e=>t.createElement(c,{...e}),size:115}),r.accessor("editRow",{className:"editRow",cell:e=>{var n,g;return t.createElement(L,{onDelete:()=>E({cell:e,optionalSelector:S,id:"src_url_name"})},((n=e.row.original.edit_src_url_name)==null?void 0:n.length)>0&&t.createElement(f,{title:s("Edit Source Post","urlslab"),arrow:!0,placement:"bottom"},t.createElement(w,{size:"xs",component:"a",href:e.row.original.edit_src_url_name,target:"_blank"},t.createElement(T,{name:"edit-post"}))),((g=e.row.original.edit_dest_url_name)==null?void 0:g.length)>0&&t.createElement(f,{title:s("Edit Destination Post","urlslab"),arrow:!0,placement:"bottom"},t.createElement(w,{size:"xs",component:"a",href:e.row.original.edit_dest_url_name,target:"_blank"},t.createElement(T,{name:"edit-post"}))))},header:null,size:100})],[r,E,_]);return o.useEffect(()=>{p(l,{data:a})},[a,p,l]),m?t.createElement(M,{isFullscreen:!0}):t.createElement(t.Fragment,null,t.createElement(N,{title:s("About this table","urlslab"),tableSlug:l,isMainTableDescription:!0},s("The table illustrates the associations between URLs on your website. The plugin can automatically load these connections, a paid feature, or you can configure them manually. These data sets are predominantly used by the plugin to display the Related Articles widget. This widget can either be included automatically on all your pages, as seen in the Settings tab, or added individually to each page or template through a shortcode.","urlslab")),t.createElement(v,null),t.createElement(D,{className:"fadeInto",columns:z,data:d&&x,referrer:C,loadingRows:k},t.createElement(A,null)),t.createElement(q,null))}const q=o.memo(()=>{const l=b(a=>a.setRowToEdit),r=o.useMemo(()=>({src_url_name:t.createElement(u,{liveUpdate:!0,type:"url",defaultValue:"",label:i.src_url_name,onChange:a=>l({src_url_name:a}),required:!0}),dest_url_name:t.createElement(u,{liveUpdate:!0,type:"url",defaultValue:"",label:i.dest_url_name,onChange:a=>l({dest_url_name:a}),required:!0}),pos:t.createElement(u,{liveUpdate:!0,type:"number",defaultValue:"1",min:"0",max:"100",label:i.pos,onChange:a=>l({pos:a}),required:!0}),is_locked:t.createElement(y,{defaultValue:!1,onChange:a=>l({is_locked:a})},i.is_locked)}),[l]);o.useEffect(()=>{b.setState(()=>({...b.getState(),rowEditorCells:r,deleteCSVCols:[V,"dest_url_id"]}))},[r])});export{O as default};
