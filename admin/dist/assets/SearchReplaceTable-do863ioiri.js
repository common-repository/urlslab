import{w as V,r as h,R as t,_ as a,x as N,N as x,y as z,z as k,I as f,V as p,S as l,aO as I,A as L,L as y,X as U,M as F,C as q,Y as B,E as v}from"../main-do863ioiri.js";const D=a("Add New Replacement","urlslab"),A="id",g={str_search:a("Search string (old)","urlslab"),str_replace:a("Replace string (new)","urlslab"),search_type:a("Search type","urlslab"),login_status:a("Is logged in","urlslab"),url_filter:a("URL filter","urlslab"),labels:a("Tags","urlslab")},u={is_single:a("Is single","urlslab"),is_singular:a("Is singular","urlslab"),is_attachment:a("Is attachment","urlslab"),is_page:a("Is page","urlslab"),is_home:a("Is home","urlslab"),is_front_page:a("Is front page","urlslab"),is_category:a("Is category","urlslab"),is_search:a("Is search","urlslab"),is_tag:a("Is tag","urlslab"),is_author:a("Is author","urlslab"),is_archive:a("Is archive","urlslab"),is_sticky:a("Is sticky","urlslab"),is_tax:a("Is taxonomy","urlslab"),is_feed:a("Is feed","urlslab"),is_paged:a("Is paged","urlslab")},H={columnVisibility:{login_status:!1}};function W({slug:n}){const r=V(_=>_.setTable),[e,d]=h.useState(!1);return h.useEffect(()=>{d(!0),r(n,{title:D,paginationId:A,slug:n,header:g,id:"str_search"})},[r,n]),e&&t.createElement(P,{slug:n})}function P({slug:n}){const{columnHelper:r,data:e,isLoading:d,isSuccess:_,isFetchingNextPage:b,ref:s}=N({slug:n}),R=h.useMemo(()=>{var i;return(i=e==null?void 0:e.pages)==null?void 0:i.flatMap(o=>o??[])},[e==null?void 0:e.pages]),E=V(i=>i.setTable),{columnTypes:m,isLoadingColumnTypes:S}=x(n),{deleteRow:w,updateRow:c}=z(),M=h.useMemo(()=>m?[r.accessor("check",{className:"nolimit checkbox",cell:i=>t.createElement(k,{tableElement:i}),header:i=>t.createElement(k,{tableElement:i})}),r.accessor("str_search",{className:"nolimit",cell:i=>t.createElement(f,{type:"text",value:i.getValue(),onChange:o=>c({newVal:o,cell:i})}),header:i=>t.createElement(p,{...i}),size:200}),r.accessor("str_replace",{className:"nolimit",cell:i=>t.createElement(f,{type:"text",value:i.getValue(),onChange:o=>c({newVal:o,cell:i})}),header:i=>t.createElement(p,{...i}),size:200}),r.accessor("search_type",{className:"nolimit",cell:i=>{var o;return t.createElement(l,{autoClose:!0,items:(o=m==null?void 0:m.search_type)==null?void 0:o.values,name:i.column.id,value:i.getValue(),onChange:C=>c({newVal:C,cell:i})})},header:i=>t.createElement(p,{...i}),size:80}),r.accessor("login_status",{className:"nolimit",cell:i=>{var o;return t.createElement(l,{autoClose:!0,items:(o=m.login_status)==null?void 0:o.values,name:i.column.id,value:i.getValue(),onChange:C=>c({newVal:C,cell:i})})},header:i=>t.createElement(p,{...i}),size:80}),r.accessor("url_filter",{className:"nolimit",cell:i=>t.createElement(f,{type:"text",value:i.getValue(),onChange:o=>c({newVal:o,cell:i})}),header:i=>t.createElement(p,{...i}),size:150}),r.accessor("labels",{className:"nolimit",cell:i=>t.createElement(I,{value:i.getValue(),slug:n,onChange:o=>c({newVal:o,cell:i})}),header:g.labels,size:160}),r.accessor("editRow",{className:"editRow",cell:i=>t.createElement(L,{onEdit:()=>c({cell:i,id:"str_search"}),onDelete:()=>w({cell:i,id:"str_search"})}),header:()=>null,size:0})]:[],[r,m,w,n,c]);return h.useEffect(()=>{E(n,{data:e})},[e,E,n]),d||S?t.createElement(y,{isFullscreen:!0}):t.createElement(t.Fragment,null,t.createElement(U,{title:a("About this table","urlslab"),tableSlug:n,isMainTableDescription:!0},a("The table lists HTML replacement rules. These rules are applied to all HTML requests in real time as the page content is generated. When the conditions of a rule are met, all corresponding strings will be replaced according to that rule's definition. Please note that this process occurs dynamically and does not alter the original content in the database. If the module or a specific rule is deactivated, the plugin will revert to displaying the original content.","urlslab")),t.createElement(F,null),t.createElement(q,{className:"fadeInto",initialState:H,columns:M,data:_&&R,referrer:s,loadingRows:b},t.createElement(B,null)),t.createElement(O,{slug:n}))}const O=h.memo(({slug:n})=>{var _;const r=v(b=>b.setRowToEdit),{columnTypes:e}=x(n),d=h.useMemo(()=>{var b;return{search_type:t.createElement(l,{defaultAccept:!0,autoClose:!0,items:(b=e==null?void 0:e.search_type)==null?void 0:b.values,name:"search_type",defaultValue:"T",section:a("Search and Replace","urlslab"),description:a("Choose the method for string matching","urlslab"),onChange:s=>r({search_type:s})},g.search_type),str_search:t.createElement(f,{liveUpdate:!0,type:"url",defaultValue:"",label:g.str_search,description:a("Enter a string or regular expression for replacement","urlslab"),onChange:s=>r({str_search:s}),required:!0}),str_replace:t.createElement(f,{liveUpdate:!0,type:"url",defaultValue:"",label:g.str_replace,description:a("Enter a substitute string","urlslab"),onChange:s=>r({str_replace:s}),required:!0}),url_filter:t.createElement(f,{liveUpdate:!0,defaultValue:".*",label:g.url_filter,section:a("Rule Conditions","urlslab"),description:a("Optionally, you can permit replacement only on URLs that match a specific regular expression. Use value `.*` to match all URLs","urlslab"),onChange:s=>r({url_filter:s})}),is_single:t.createElement(l,{autoClose:!0,items:e==null?void 0:e.is_single.values,name:"is_single",defaultValue:"A",description:a("Checks to see whether any type of single post is being displayed (excluding attachments).","urlslab"),onChange:s=>r({is_single:s})},u.is_single),is_singular:t.createElement(l,{autoClose:!0,items:e==null?void 0:e.is_singular.values,name:"is_singular",defaultValue:"A",description:a("Checks whether a single post, attachment or page is being displayed. True is returned if either of those conditions are met.","urlslab"),onChange:s=>r({is_singular:s})},u.is_singular),is_attachment:t.createElement(l,{autoClose:!0,items:e==null?void 0:e.is_attachment.values,name:"is_attachment",defaultValue:"A",description:a("Checks if an attachment is displayed.","urlslab"),onChange:s=>r({is_attachment:s})},u.is_attachment),is_page:t.createElement(l,{autoClose:!0,items:e==null?void 0:e.is_page.values,name:"is_page",defaultValue:"A",description:a("Checks if a page is being displayed.","urlslab"),onChange:s=>r({is_page:s})},u.is_page),is_home:t.createElement(l,{autoClose:!0,items:e==null?void 0:e.is_home.values,name:"is_home",defaultValue:"A",description:a("Checks if the blog post index is being displayed. This may or may not be your home page as well.","urlslab"),onChange:s=>r({is_home:s})},u.is_home),is_front_page:t.createElement(l,{autoClose:!0,items:e==null?void 0:e.is_front_page.values,name:"is_front_page",defaultValue:"A",description:a("Checks if your home page is being displayed. This works whether your front page settings are set up to display blog posts (i.e. blog index) or a static page.","urlslab"),onChange:s=>r({is_front_page:s})},u.is_front_page),is_category:t.createElement(l,{autoClose:!0,items:e==null?void 0:e.is_category.values,name:"is_category",defaultValue:"A",description:a("Checks whether a category archive page is being displayed.","urlslab"),onChange:s=>r({is_category:s})},u.is_category),is_search:t.createElement(l,{autoClose:!0,items:e==null?void 0:e.is_search.values,name:"is_search",defaultValue:"A",description:a("Checks if a search results page is being shown.","urlslab"),onChange:s=>r({is_search:s})},u.is_search),is_tag:t.createElement(l,{autoClose:!0,items:e==null?void 0:e.is_tag.values,name:"is_tag",defaultValue:"A",description:a("Checks whether a tag archive is being displayed.","urlslab"),onChange:s=>r({is_tag:s})},u.is_tag),is_author:t.createElement(l,{autoClose:!0,items:e==null?void 0:e.is_author.values,name:"is_author",defaultValue:"A",description:a("Checks if an author archive page is being displayed.","urlslab"),onChange:s=>r({is_author:s})},u.is_author),is_archive:t.createElement(l,{autoClose:!0,items:e==null?void 0:e.is_archive.values,name:"is_archive",defaultValue:"A",description:a("Checks if any type of archive page is being displayed including category, tag, date and author archives.","urlslab"),onChange:s=>r({is_archive:s})},u.is_archive),is_sticky:t.createElement(l,{autoClose:!0,items:e==null?void 0:e.is_sticky.values,name:"is_sticky",defaultValue:"A",description:a("Checks if a post defined as sticky is displayed.","urlslab"),onChange:s=>r({is_sticky:s})},u.is_sticky),is_tax:t.createElement(l,{autoClose:!0,items:e==null?void 0:e.is_tax.values,name:"is_tax",defaultValue:"A",description:a("Checks whether a custom taxonomy archive page is displayed.","urlslab"),onChange:s=>r({is_tax:s})},u.is_tax),is_feed:t.createElement(l,{autoClose:!0,items:e==null?void 0:e.is_feed.values,name:"is_feed",defaultValue:"A",description:a("Checks whether the current query is for a feed.","urlslab"),onChange:s=>r({is_feed:s})},u.is_feed),is_paged:t.createElement(l,{autoClose:!0,items:e==null?void 0:e.is_paged.values,name:"is_paged",defaultValue:"A",description:a("Checks whether the page you are currently viewing is a paginated page other than page one. Posts and pages are paginated when you use the nextpage quicktag in your content to split up large posts.","urlslab"),onChange:s=>r({is_paged:s})},u.is_paged),login_status:t.createElement(l,{defaultAccept:!0,autoClose:!0,items:e==null?void 0:e.login_status.values,name:"login_status",defaultValue:"A",description:a("Checks weather user is logged in.","urlslab"),onChange:s=>r({login_status:s})},g.login_status),labels:t.createElement(I,{optionItem:!0,label:a("Tags:","urlslab"),section:a("Categorize Rule","urlslab"),slug:n,onChange:s=>r({labels:s})})}},[e==null?void 0:e.is_archive.values,e==null?void 0:e.is_attachment.values,e==null?void 0:e.is_author.values,e==null?void 0:e.is_category.values,e==null?void 0:e.is_feed.values,e==null?void 0:e.is_front_page.values,e==null?void 0:e.is_home.values,e==null?void 0:e.is_page.values,e==null?void 0:e.is_paged.values,e==null?void 0:e.is_search.values,e==null?void 0:e.is_single.values,e==null?void 0:e.is_singular.values,e==null?void 0:e.is_sticky.values,e==null?void 0:e.is_tag.values,e==null?void 0:e.is_tax.values,e==null?void 0:e.login_status.values,(_=e==null?void 0:e.search_type)==null?void 0:_.values,r,n]);h.useEffect(()=>{v.setState(()=>({...v.getState(),rowEditorCells:d,deleteCSVCols:[A,"dest_url_id"]}))},[d])});export{W as default};
